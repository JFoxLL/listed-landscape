<table class="performance-index-table">
  <thead>
    <tr>
      <th colspan="3" style="border: none;"></th>
      <th colspan="4">Dividends Reinvested</th>
      <th colspan="4">Dividends & Franking</th>
    </tr>
    <tr>
      <th class="performance-index-table-lic-name-column">Name</th>
      <th>Size</th>
      <th>Updated</th>
      <th>1yr</th>
      <th>3yrs</th>
      <th>5yrs</th>
      <th>10yrs</th>
      <th>1yr</th>
      <th>3yrs</th>
      <th>5yrs</th>
      <th>10yrs</th>
    </tr>
  </thead>
  <tbody>
    <% lics.each do |lic| %>
      <% cache [lic, 'performance_index_table_row_cache'] do %>
        <tr>
          <td class="performance-index-table-lic-name-column">
            <% if @device_type == 'desktop' %>
              <%= link_to truncate(lic.name, length: 45), "#{listed_investment_company_path(lic)}#performance", class: "performance-index-table-lic-name", target: "_blank" %>
            <% else %>
              <%= link_to truncate(lic.name, length: 30), "#{listed_investment_company_path(lic)}#performance", class: "performance-index-table-lic-name", target: "_blank" %>
            <% end %>
          </td>
          <td class="center"><%= format_market_cap(lic.market_cap) %></td>
          <td class="center"><%= lic.performance_last_updated.strftime("%b-%y") %></td>
          <td class="center <%= performance_table_colour_shading(lic.performance_cagr_calculation(1, :cash_amount)) %>"><%= "#{lic.performance_cagr_calculation(1, :cash_amount)}" %></td>
          <td class="center <%= performance_table_colour_shading(lic.performance_cagr_calculation(3, :cash_amount)) %>"><%= "#{lic.performance_cagr_calculation(3, :cash_amount)}" %></td>
          <td class="center <%= performance_table_colour_shading(lic.performance_cagr_calculation(5, :cash_amount)) %>"><%= "#{lic.performance_cagr_calculation(5, :cash_amount)}" %></td>
          <td class="center <%= performance_table_colour_shading(lic.performance_cagr_calculation(9.8, :cash_amount)) %>"><%= "#{lic.performance_cagr_calculation(9.8, :cash_amount)}" %></td>
          <td class="center <%= performance_table_colour_shading(lic.performance_cagr_calculation(1, :grossed_up_amount)) %>"><%= "#{lic.performance_cagr_calculation(1, :grossed_up_amount)}" %></td>
          <td class="center <%= performance_table_colour_shading(lic.performance_cagr_calculation(3, :grossed_up_amount)) %>"><%= "#{lic.performance_cagr_calculation(3, :grossed_up_amount)}" %></td>
          <td class="center <%= performance_table_colour_shading(lic.performance_cagr_calculation(5, :grossed_up_amount)) %>"><%= "#{lic.performance_cagr_calculation(5, :grossed_up_amount)}" %></td>
          <td class="center <%= performance_table_colour_shading(lic.performance_cagr_calculation(9.8, :grossed_up_amount)) %>"><%= "#{lic.performance_cagr_calculation(9.8, :grossed_up_amount)}" %></td>
        </tr>
      <% end %>
    <% end %>
  </tbody>
</table>


